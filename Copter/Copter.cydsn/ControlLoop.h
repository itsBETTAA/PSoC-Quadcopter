//******************************************************************************//
//																				//
//		Project	:	Quad Copter													//
//		Device	:	PSoC 4														//
//		Version :	0.0															//
//		Date	:	March 2014													//
//		Author(s)	Bob Marlowe													//
//																				//
//******************************************************************************//
#ifndef ControlLoop_h
#define ControlLoop_h

//******************************************************************************//
//********************* Libraries **********************************************//
//******************************************************************************//
#include <GlobalDefs.h>
		
//******************************************************************************//
//********************* Definitions & Macros ***********************************//
//******************************************************************************//
	
//******************************************************************************//
//******************** Structures / Enums **************************************//
//******************************************************************************//
struct sControl {
					float KP, KI, KD;
					float ErrSum;
					float OldErr;
				};

typedef struct sControl * Control;
					
//******************************************************************************//
//********************* Data Area **********************************************//
//******************************************************************************//
extern Control RollControl;			// X-Axis
extern Control PitchControl;		// Y-Axis
extern Control YawControl;			// Z-Axis
extern Control HeightControl;		// Up/Down

//******************************************************************************//
//********************* APIs ***************************************************//
//******************************************************************************//

Control Control_Start(float KP, float KI, float KD, float Ta);

float Controller(Control PID, float Wanted, float ShouldBe);

#endif
